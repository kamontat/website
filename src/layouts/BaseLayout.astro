---
import type { ComponentProps } from "astro/types";

import HeadHelmet from "@components/base/HeadHelmet.astro";
import BodyFooter from "@components/base/BodyFooter.astro";
import BodyHeader from "@components/base/BodyHeader.astro";
import BodyMain from "@components/base/BodyMain.astro";

import { getLocaleISO } from "@utils/i18n";

type Props = ComponentProps<typeof HeadHelmet>;

const props = Astro.props;
---

<html lang={getLocaleISO(props.locale)}>
	<head>
		<HeadHelmet {...props} />
		<slot name="head" />
	</head>
	<body
		class:list={[
			"bg-white",
			"dark:bg-gray-700",
			"black:bg-black",
			"font-sans",
			"font-light",
		]}
	>
		<slot name="header">
			<BodyHeader locale={props.locale} title={props.title} />
		</slot>
		<BodyMain>
			<slot />
		</BodyMain>
		<slot name="footer"><BodyFooter /></slot>
	</body>
</html>

<style>
	html.black {
		color-scheme: dark;
	}
</style>

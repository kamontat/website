---
import { Picture } from "astro:assets";

import DefaultLayout from "@layouts/DefaultLayout/DefaultLayout.astro";
import Container from "@components/molecules/Container/Container.astro";
import Heading from "@components/atoms/Heading.svelte";
import Caption from "@components/atoms/Caption.svelte";
import Paragraph from "@components/atoms/Paragraph.svelte";
import Div from "@components/atoms/Div.svelte";
import Badge from "@components/atoms/Badge.svelte";
import Link from "@components/atoms/Link.svelte";

import { getStaticPathsWithLocale } from "@core/utils/path";
import { getSingleton } from "@core/contents";

export const getStaticPaths = getStaticPathsWithLocale();

const { locale } = Astro.params;
const information = await getSingleton("information");
const ui = await getSingleton("ui");

const name = `${information.must("firstName", locale)} ${information.must("lastName", locale)}`;
---

<DefaultLayout title={ui.must("page.home.title", locale)} {locale}>
	<Container>
		<Div class="items-center justify-center md:flex-row">
			<Picture
				src={information.must("profilePicture")}
				alt="profile picture"
				formats={["avif", "webp"]}
				layout="constrained"
				loading="lazy"
				class="mb-2 rounded-2xl min-w-60 w-68 md:min-w-50 md:w-58"
			/>
			<Div class="ml-4">
				<Heading
					level={1}
					class="text-primary-light text-center black:text-primary-black dark:text-primary-dark md:text-left"
				>
					{name}
					<span class="font-medium">
						({information.must("nickName", locale)})
					</span>
				</Heading>
				<Caption class="mt-1 text-center md:text-left">
					<span class="font-normal">{information.must("title", locale)}</span>
					@
					{information.must("company", locale)}
				</Caption>

				<Paragraph class="mt-2">
					{information.must("summary", locale)}
				</Paragraph>
			</Div>
		</Div>
		<Div
			class="mt-4 gap-5 items-center justify-center lg:flex-row lg:items-start"
		>
			<Div class="flex-row gap-5">
				<Link
					href="/go/facebook"
					baseLink={Astro.site!.origin}
					builtinStyles={false}
					external={true}
					prefetch={false}
				>
					<Badge iconClass="i-line-md:facebook"> Facebook </Badge>
				</Link>
				<Link
					href="/go/x"
					baseLink={Astro.site!.origin}
					builtinStyles={false}
					external={true}
					prefetch={false}
				>
					<Badge iconClass="i-line-md:twitter-x"> X </Badge>
				</Link>
			</Div>
			<Div class="flex-row gap-5">
				<Link
					href="/go/linkedin"
					baseLink={Astro.site!.origin}
					builtinStyles={false}
					external={true}
					prefetch={false}
				>
					<Badge iconClass="i-line-md:linkedin"> Linkedin </Badge>
				</Link>
				<Link
					href="/go/github"
					baseLink={Astro.site!.origin}
					builtinStyles={false}
					external={true}
					prefetch={false}
				>
					<Badge iconClass="i-line-md:github"> GitHub </Badge>
				</Link>
			</Div>
		</Div>
	</Container>
</DefaultLayout>

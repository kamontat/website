{
	"beforeRoutes": [
		{
			"$comment": "when visit blog.kc.in.th/*, rewrite to kc.in.th/blog/*",
			"src": "^/(?<path>.*)$",
			"has": [
				{
					"type": "host",
					"value": "blog.kc.in.th"
				}
			],
			"dest": "https://kc.in.th/blog/$path"
		}
	],
	"afterRoutes": [
		{
			"$comment": "when visit blog.kc.in.th/blog, redirect to blog.kc.in.th",
			"src": "^/blog[/]?$",
			"has": [
				{
					"type": "host",
					"value": "blog.kc.in.th"
				}
			],
			"headers": {
				"Location": "/"
			},
			"status": 301
		},
		{
			"$comment": "when visit blog.kc.in.th/blog/*, redirect to blog.kc.in.th/*",
			"src": "^/blog/(?<path>.*)$",
			"has": [
				{
					"type": "host",
					"value": "blog.kc.in.th"
				}
			],
			"headers": {
				"Location": "/$path"
			},
			"status": 301
		},
		{
			"$comment": "when visit <domain>/*, redirect to /en version",
			"src": "^/(?<path>(?:(?!th(/|$)|en(/|$)|blog(/|$))).*)$",
			"headers": {
				"Location": "/en/$path"
			},
			"status": 301
		}
	]
}

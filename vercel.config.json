{
	"beforeRoutes": [
		{
			"$comment": "when visit blog.kc.in.th/*, rewrite to kc.in.th/blog/*",
			"src": "^/(?<path>.*(?:(?!\\.js|\\.css)))$",
			"has": [
				{
					"type": "host",
					"value": "blog.kc.in.th"
				}
			],
			"dest": "https://kc.in.th/blog/$path"
		}
	],
	"afterRoutes": [
		{
			"$comment": "when visit <domain>/blog/*, redirect to /blog/en version",
			"src": "^/blog/(?<path>(?:(?!th(/|$)|en(/|$))).*)$",
			"headers": {
				"Location": "/blog/en/$path",
				"X-Rule-ID": "1"
			},
			"status": 301
		},
		{
			"$comment": "when visit <domain>/*, redirect to /en version",
			"src": "^/(?<path>(?:(?!th(/|$)|en(/|$))).*)$",
			"headers": {
				"Location": "/en/$path",
				"X-Rule-ID": "2"
			},
			"status": 301
		}
	]
}
